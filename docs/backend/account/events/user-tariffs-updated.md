# UserTariffsUpdated Event Specification

## Назначение

Событие **UserTariffsUpdated** сигнализирует о том, что у пользователя изменились активные тарифные планы.
Позволяет другим контекстам и подсистемам реагировать на обновление тарифов пользователя.

## Источник события

Вызывается после успешного обновления тарифов и сохранения пользователя в системе.

## Состав события

Событие содержит информацию, необходимую для идентификации пользователя и новых тарифов:

* `userId` — уникальный идентификатор пользователя (UserId)
* `tariffCodes` — массив кодов активных тарифов после обновления
* `updatedAt` — дата и время последнего обновления тарифов

## Применение

* Подписчики события могут:

  * Обновлять кэш прав пользователя (например, в Shared Context)
  * Пересчитывать доступные функции и лимиты
  * Отправлять уведомления пользователю о изменении тарифов

## Примечания

* Событие является частью Event-Driven архитектуры и предназначено для асинхронного оповещения.
* Содержит только агрегированную информацию о тарифах, не включает внутренние детали модели `User`.
* Публикуется только после успешного сохранения пользователя с обновлёнными тарифами.

## Связанные документы

* [События](./overview.md)
* [User](../model/user.md)

## Статус

[] Создать событие `UserTariffsUpdated`