# UserMessengersUpdated Event Specification

## Назначение

Событие **UserMessengersUpdated** сигнализирует о том, что у пользователя изменился список привязанных мессенджеров.
Позволяет другим контекстам и подсистемам реагировать на изменения мессенджеров.

## Источник события

Вызывается после успешного добавления или удаления мессенджера.

## Состав события

Событие содержит информацию, необходимую для идентификации пользователя и текущего списка мессенджеров:

* `userId` — уникальный идентификатор пользователя (`UserId`)
* `messengers` — массив объектов мессенджеров пользователя, каждый с полями:
  * `messenger` — код мессенджера (`Messenger`)
  * `messengerId` — идентификатор пользователя в мессенджере
* `updatedAt` — дата и время последнего изменения списка мессенджеров

## Применение

* Подписчики события могут:

  * Обновлять связи пользователя в других системах
  * Пересчитывать доступные каналы уведомлений
  * Логировать изменения для аудита

## Примечания

* Событие является частью Event-Driven архитектуры и предназначено для асинхронного оповещения.
* Содержит агрегированную информацию о мессенджерах, не включает внутренние детали модели `User`.
* Публикуется только после успешного сохранения пользователя с обновлёнными мессенджерами.

## Связанные документы

* [User](../model/user.md)
* [UserId](../model/user-id.md)
* [UserService](../services/user-service.md)
* [Messenger](../../shared/models/messenger.md)

## Статус

[] Создать событие `UserMessengersUpdated`
